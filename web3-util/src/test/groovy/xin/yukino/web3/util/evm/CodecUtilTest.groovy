package xin.yukino.web3.util.evm

import org.web3j.abi.datatypes.DynamicBytes
import org.web3j.abi.datatypes.generated.Uint256
import org.web3j.utils.Numeric
import spock.lang.Specification

class CodecUtilTest extends Specification {

    def "GetRawTransactionData"() {
        given:
        def chain = Chain.ETH_MAIN
        def txHash = "0xeddf9e61fb9d8f5111840daef55e5fde0041f5702856532cdbb5a02998033d26"
        when:
        def data = CodecUtil.getRawTransactionData(txHash, chain)
        then:
        println data
    }

    def "toChecksumAddress"() {
        given:
        def addr = "0x5e4b00f651949e111d4e5f5d6c914aaad28d40cf";
        expect:
        println CodecUtil.toChecksumAddress(addr)
    }

    def "brotliCompress"() {
        given:
        def code = "0x6080604052600436106101b05760003560e01c806370a08231116100ec578063b760faf91161008a578063d6383f9411610064578063d6383f9414610675578063dc1a091114610695578063ee219423146106b5578063fc7e286d146106d557600080fd5b8063b760faf91461062d578063bb9fe6bf14610640578063c23a5cea1461065557600080fd5b8063957122ab116100c6578063957122ab146105ad5780639821a0c6146105cd5780639b249f69146105ed578063a61935311461060d57600080fd5b806370a082311461052557806381d067df146105785780638f41ec5a1461059857600080fd5b8063205c2878116101595780635287ce12116101335780635287ce121461037657806355f8117c146104c557806357d39f61146104e5578063679986761461050557600080fd5b8063205c2878146102a357806335567e1a146102c35780634b1d7cf51461035657600080fd5b80631b2e01b81161018a5780631b2e01b8146102185780631d732756146102635780631fad948c1461028357600080fd5b80630396cb60146101c557806305bd783f146101d85780630bd28e3b146101f857600080fd5b366101c0576101be336107af565b005b600080fd5b6101be6101d3366004614a1b565b6107d0565b3480156101e457600080fd5b506101be6101f3366004614a5a565b610b53565b34801561020457600080fd5b506101be610213366004614abc565b610daf565b34801561022457600080fd5b50610250610233366004614b04565b600160209081526000928352604080842090915290825290205481565b6040519081526020015b60405180910390f35b34801561026f57600080fd5b5061025061027e366004614ce5565b610df7565b34801561028f57600080fd5b506101be61029e366004614e81565b610f4f565b3480156102af57600080fd5b506101be6102be366004614ed8565b6110cc565b3480156102cf57600080fd5b506102506102de366004614b04565b73ffffffffffffffffffffffffffffffffffffffff91909116600090815260016020908152604080832077ffffffffffffffffffffffffffffffffffffffffffffffff85168452909152908190205491901b7fffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000161790565b34801561036257600080fd5b506101be610371366004614e81565b6112ce565b34801561038257600080fd5b50610466610391366004614f04565b6040805160a0810182526000808252602082018190529181018290526060810182905260808101919091525073ffffffffffffffffffffffffffffffffffffffff1660009081526020818152604091829020825160a08101845281546dffffffffffffffffffffffffffff80821683526e010000000000000000000000000000820460ff161515948301949094526f0100000000000000000000000000000090049092169282019290925260019091015463ffffffff81166060830152640100000000900465ffffffffffff16608082015290565b6040805182516dffffffffffffffffffffffffffff908116825260208085015115159083015283830151169181019190915260608083015163ffffffff169082015260809182015165ffffffffffff169181019190915260a00161025a565b3480156104d157600080fd5b506101be6104e0366004614a5a565b6117a4565b3480156104f157600080fd5b50610250610500366004614f21565b6117c1565b34801561051157600080fd5b506101be610520366004614a5a565b6118a6565b34801561053157600080fd5b50610250610540366004614f04565b73ffffffffffffffffffffffffffffffffffffffff166000908152602081905260409020546dffffffffffffffffffffffffffff1690565b34801561058457600080fd5b506101be610593366004614f91565b6119e1565b3480156105a457600080fd5b50610250600181565b3480156105b957600080fd5b506101be6105c8366004615042565b611af6565b3480156105d957600080fd5b506101be6105e83660046150c7565b611c4d565b3480156105f957600080fd5b506101be61060836600461511c565b611f54565b34801561061957600080fd5b50610250610628366004614a5a565b612039565b6101be61063b366004614f04565b6107af565b34801561064c57600080fd5b506101be61207b565b34801561066157600080fd5b506101be610670366004614f04565b61223a565b34801561068157600080fd5b506101be61069036600461515e565b61253a565b3480156106a157600080fd5b506101be6106b03660046151cd565b612668565b3480156106c157600080fd5b506101be6106d0366004614a5a565b612834565b3480156106e157600080fd5b506107626106f0366004614f04565b600060208190529081526040902080546001909101546dffffffffffffffffffffffffffff808316926e010000000000000000000000000000810460ff16926f010000000000000000000000000000009091049091169063ffffffff811690640100000000900465ffffffffffff1685565b604080516dffffffffffffffffffffffffffff96871681529415156020860152929094169183019190915263ffffffff16606082015265ffffffffffff909116608082015260a00161025a565b6000516064900a607b8190036107c3575050565b6107cc82612b9c565b5050565b33600090815260208190526040902063ffffffff8216610851576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c617900000000000060448201526064015b60405180910390fd5b600181015463ffffffff90811690831610156108c9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d65000000006044820152606401610848565b80546000906108fc9034906f0100000000000000000000000000000090046dffffffffffffffffffffffffffff16615235565b905060008111610968576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6e6f207374616b652073706563696669656400000000000000000000000000006044820152606401610848565b6dffffffffffffffffffffffffffff8111156109e0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f7374616b65206f766572666c6f770000000000000000000000000000000000006044820152606401610848565b6040805160a08101825283546dffffffffffffffffffffffffffff90811682526001602080840182815286841685870190815263ffffffff808b16606088019081526000608089018181523380835296829052908a9020985189549551945189166f01000000000000000000000000000000027fffffff0000000000000000000000000000ffffffffffffffffffffffffffffff9515156e010000000000000000000000000000027fffffffffffffffffffffffffffffffffff0000000000000000000000000000009097169190991617949094179290921695909517865551949092018054925165ffffffffffff16640100000000027fffffffffffffffffffffffffffffffffffffffffffff00000000000000000000909316949093169390931717905590517fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c0190610b46908490879091825263ffffffff16602082015260400190565b60405180910390a2505050565b6000610b626020830183614f04565b9050366000610b7561012085018561524d565b9092509050610b87604085018561524d565b1590508015610bab575073ffffffffffffffffffffffffffffffffffffffff83163b155b15610c12576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f41413230206163636f756e74206e6f74206465706c6f796564000000000000006044820152606401610848565b60148110610ca4576000610c2960148284866152b2565b610c32916152dc565b60601c9050803b600003610ca2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f41413330207061796d6173746572206e6f74206465706c6f79656400000000006044820152606401610848565b505b6040805160028082526060820183526000926020830190803683370190505090507f1cf5a0fe3bf24282cc81b8ffae2e5e3aa750f3f182a6665e22ba4ab24da3aaf360001b81600081518110610cfc57610cfc615324565b6020026020010181815250507f01a99ad3717020cbba98fc5b74f0d921d6f56d622bc7a15c0dac860582d3cb9660001b81600181518110610d3f57610d3f615324565b602002602001018181525050610d5584826119e1565b610d73847322ff1dc5998258faa1ea45a776b57484f8ab80a2612668565b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526020600482015260006024820152604401610848565b33600090815260016020908152604080832077ffffffffffffffffffffffffffffffffffffffffffffffff851684529091528120805491610def83615353565b919050555050565b6000805a9050333014610e66576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c790000000000000000006044820152606401610848565b8451604081015160608201518101611388015a1015610ea9577fdeaddead0000000000000000000000000000000000000000000000000000000060005260206000fd5b875160009015610eef576000610ec6846000015160008c86612c0f565b905080610eed576000610eda610800612c27565b9050610ee78a828d612c53565b60019250505b505b600088608001515a8603019050610f416000838b8b8b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250612c5c915050565b9a9950505050505050505050565b610f57612fc8565b8160008167ffffffffffffffff811115610f7357610f73614b39565b604051908082528060200260200182016040528015610fac57816020015b610f99614977565b815260200190600190039081610f915790505b50905060005b82811015611025576000828281518110610fce57610fce615324565b60200260200101519050600080611009848a8a87818110610ff157610ff1615324565b9050602002810190611003919061538b565b85613039565b9150915061101a848383600061327d565b505050600101610fb2565b506040516000907fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972908290a160005b838110156110af576110a38188888481811061107257611072615324565b9050602002810190611084919061538b565b85848151811061109657611096615324565b60200260200101516134d2565b90910190600101611054565b506110ba848261365f565b5050506110c76001600255565b505050565b33600090815260208190526040902080546dffffffffffffffffffffffffffff16821115611156576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c61726765000000000000006044820152606401610848565b80546111739083906dffffffffffffffffffffffffffff166153c9565b81547fffffffffffffffffffffffffffffffffffff0000000000000000000000000000166dffffffffffffffffffffffffffff919091161781556040805173ffffffffffffffffffffffffffffffffffffffff851681526020810184905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb910160405180910390a260008373ffffffffffffffffffffffffffffffffffffffff168360405160006040518083038185875af1925050503d8060008114611258576040519150601f19603f3d011682016040523d82523d6000602084013e61125d565b606091505b50509050806112c8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6661696c656420746f20776974686472617700000000000000000000000000006044820152606401610848565b50505050565b6112d6612fc8565b816000805b828110156114cf57368686838181106112f6576112f6615324565b905060200281019061130891906153e0565b90503660006113178380615414565b9092509050600061132e6040850160208601614f04565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff73ffffffffffffffffffffffffffffffffffffffff8216016113cf576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f720000000000000000006044820152606401610848565b73ffffffffffffffffffffffffffffffffffffffff8116156114ac5773ffffffffffffffffffffffffffffffffffffffff811663e3563a4f8484611416604089018961524d565b6040518563ffffffff1660e01b8152600401611435949392919061562d565b60006040518083038186803b15801561144d57600080fd5b505afa92505050801561145e575060015b6114ac576040517f86a9f75000000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82166004820152602401610848565b6114b68287615235565b95505050505080806114c790615353565b9150506112db565b5060008167ffffffffffffffff8111156114eb576114eb614b39565b60405190808252806020026020018201604052801561152457816020015b611511614977565b8152602001906001900390816115095790505b506040519091507fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f97290600090a16000805b84811015611639573688888381811061157057611570615324565b905060200281019061158291906153e0565b90503660006115918380615414565b909250905060006115a86040850160208601614f04565b90508160005b818110156116205760008989815181106115ca576115ca615324565b602002602001015190506000806115ed8b898987818110610ff157610ff1615324565b915091506115fd8483838961327d565b8a61160781615353565b9b5050505050808061161890615353565b9150506115ae565b505050505050808061163190615353565b915050611555565b50600080915060005b8581101561175f573689898381811061165d5761165d615324565b905060200281019061166f91906153e0565b90506116816040820160208301614f04565b73ffffffffffffffffffffffffffffffffffffffff167f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d60405160405180910390a23660006116d08380615414565b90925090508060005b818110156117475761171b888585848181106116f7576116f7615324565b9050602002810190611709919061538b565b8b8b8151811061109657611096615324565b6117259088615235565b96508761173181615353565b985050808061173f90615353565b9150506116d9565b5050505050808061175790615353565b915050611642565b506040516000907f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d908290a2611795868261365f565b50505050506110c76001600255565b610d736117b46020830183614f04565b6105e8606084018461524d565b60004661a86a146117d357508061189f565b60008390036117e357508061189f565b736bfbc1134f64714aa0f481d01db7c821c9f5f3dd6118066028601486886152b2565b61180f916152dc565b60601c1461181e57508061189f565b606082905060008060008060008580602001905181019061183f91906156e4565b60408051602081019690965273ffffffffffffffffffffffffffffffffffffffff94851686820152929093166060850152506000608084015260a0808401929092528051808403909201825260c090920190915297508796505050505050505b9392505050565b6118ae612fc8565b6118b6614977565b6118bf826137a6565b6000806118ce60008585613039565b9150915060006118de8383613880565b90506118e943600052565b6118f285613966565b61190d61190361012087018761524d565b86606001516117c1565b6060850152600061191f8187876134d2565b905061192a43600052565b600354608086015160c0880135906000906119469083906153c9565b602086015160408088015188516004805493517f35ae32c200000000000000000000000000000000000000000000000000000000815265ffffffffffff9586169181019190915293909116602484015273ffffffffffffffffffffffffffffffffffffffff166044830152606482018590526084820183905260a4820186905260c482015260e4810186905290915061010401610848565b50565b8173ffffffffffffffffffffffffffffffffffffffff163b600003611a04575050565b80516000805b82811015611a68576000848281518110611a2657611a26615324565b602002602001015190508280611a525750808673ffffffffffffffffffffffffffffffffffffffff163f145b9250508080611a6090615353565b915050611a0a565b50806112c8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f414130312073656e6465722070726f7879206e6f7420696e2077686974656c6960448201527f73740000000000000000000000000000000000000000000000000000000000006064820152608401610848565b83158015611b19575073ffffffffffffffffffffffffffffffffffffffff83163b155b15611b80576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f41413230206163636f756e74206e6f74206465706c6f796564000000000000006044820152606401610848565b60148110610d73576000611b9760148284866152b2565b611ba0916152dc565b60601c9050803b600003611c10576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f41413330207061796d6173746572206e6f74206465706c6f79656400000000006044820152606401610848565b506040517f08c379a00000000000000000000000000000000000000000000000000000000081526020600482015260006024820152604401610848565b73ffffffffffffffffffffffffffffffffffffffff83163181156112c8577f70641a2200000000000000000000000000000000000000000000000000000000611c968385615738565b7fffffffff000000000000000000000000000000000000000000000000000000001603611d8b5760008080611cce85600481896152b2565b810190611cdb919061577e565b9250925092508673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614158015611d1c57508184105b15611d83576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f414130342073656e6465722062616c616e636520696e73756666696369656e746044820152606401610848565b5050506112c8565b7fbfefafc600000000000000000000000000000000000000000000000000000000611db68385615738565b7fffffffff00000000000000000000000000000000000000000000000000000000161480611e2e57507f83aa7c9e00000000000000000000000000000000000000000000000000000000611e0a8385615738565b7fffffffff0000000000000000000000000000000000000000000000000000000016145b15611ef2576000611e8085611e4685600481896152b2565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506139a292505050565b905080821015611eec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f414130342073656e6465722062616c616e636520696e73756666696369656e746044820152606401610848565b506112c8565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f414130332073656e6465722063616c6c64617461206e6f7420616c6c6f7765646044820152606401610848565b6040517f570e1a36000000000000000000000000000000000000000000000000000000008152600090737fc98430eaedbb6070b35b39d7987250490883489063570e1a3690611fa990869086906004016157d7565b6020604051808303816000875af1158015611fc8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fec91906157eb565b6040517f6ca7b80600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82166004820152909150602401610848565b600061204482613a76565b6040805160208101929092523090820152466060820152608001604051602081830303815290604052805190602001209050919050565b3360009081526020819052604081206001810154909163ffffffff9091169003612101576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6e6f74207374616b6564000000000000000000000000000000000000000000006044820152606401610848565b80546e010000000000000000000000000000900460ff1661217e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f616c726561647920756e7374616b696e670000000000000000000000000000006044820152606401610848565b60018101546000906121969063ffffffff1642615808565b6001830180547fffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffff1664010000000065ffffffffffff84169081029190911790915583547fffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffff16845560405190815290915033907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a906020015b60405180910390a25050565b33600090815260208190526040902080546f0100000000000000000000000000000090046dffffffffffffffffffffffffffff16806122d5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4e6f207374616b6520746f2077697468647261770000000000000000000000006044820152606401610848565b6001820154640100000000900465ffffffffffff16612350576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b6528292066697273740000006044820152606401610848565b60018201544264010000000090910465ffffffffffff1611156123cf576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f742064756500000000006044820152606401610848565b6001820180547fffffffffffffffffffffffffffffffffffffffffffff0000000000000000000016905581547fffffff0000000000000000000000000000ffffffffffffffffffffffffffffff1682556040805173ffffffffffffffffffffffffffffffffffffffff851681526020810183905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda3910160405180910390a260008373ffffffffffffffffffffffffffffffffffffffff168260405160006040518083038185875af1925050503d80600081146124ca576040519150601f19603f3d011682016040523d82523d6000602084013e6124cf565b606091505b50509050806112c8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b6500000000000000006044820152606401610848565b612542614977565b61254b856137a6565b60008061255a60008885613039565b91509150600061256a8383613880565b905061257543600052565b600061258360008a876134d2565b905061258e43600052565b6000606073ffffffffffffffffffffffffffffffffffffffff8a161561261e578973ffffffffffffffffffffffffffffffffffffffff1689896040516125d5929190615832565b6000604051808303816000865af19150503d8060008114612612576040519150601f19603f3d011682016040523d82523d6000602084013e612617565b606091505b5090925090505b8660800151838560200151866040015185856040517f8b7ac980000000000000000000000000000000000000000000000000000000008152600401610848969594939291906158b8565b8173ffffffffffffffffffffffffffffffffffffffff163b60000361268b575050565b60008173ffffffffffffffffffffffffffffffffffffffff16635eb43cb58473ffffffffffffffffffffffffffffffffffffffff1663a619486e6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156126f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061271891906157eb565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e084901b16815273ffffffffffffffffffffffffffffffffffffffff9091166004820152602401602060405180830381865afa158015612781573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127a59190615913565b9050806110c7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f414130322073656e64657220696d706c656d656e74206e6f7420696e2077686960448201527f74656c69737400000000000000000000000000000000000000000000000000006064820152608401610848565b61283c614977565b612845826137a6565b60008061285460008585613039565b845160a001516040805180820182526000808252602080830182815273ffffffffffffffffffffffffffffffffffffffff958616835282825284832080546dffffffffffffffffffffffffffff6f01000000000000000000000000000000918290048116875260019283015463ffffffff9081169094528d51518851808a018a5287815280870188815291909a1687528686528887208054939093049091168952910154909116905283518085019094528184528301529395509193509036600061292260408a018a61524d565b909250905060006014821015612939576000612954565b6129476014600084866152b2565b612950916152dc565b60601c5b6040805180820182526000808252602080830182815273ffffffffffffffffffffffffffffffffffffffff861683529082905292902080546f0100000000000000000000000000000090046dffffffffffffffffffffffffffff1682526001015463ffffffff16909152909150935050505060006129d28686613880565b90506000816000015190506000600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614905060006040518060c001604052808b6080015181526020018b6040015181526020018315158152602001856020015165ffffffffffff168152602001856040015165ffffffffffff168152602001612a698c6060015190565b9052905073ffffffffffffffffffffffffffffffffffffffff831615801590612aa9575073ffffffffffffffffffffffffffffffffffffffff8316600114155b15612b625760408051808201825273ffffffffffffffffffffffffffffffffffffffff851680825282518084018452600080825260208083018281529382528181529085902080546f0100000000000000000000000000000090046dffffffffffffffffffffffffffff1683526001015463ffffffff169092529082015290517ffaecb4e4000000000000000000000000000000000000000000000000000000008152610848908390899089908c908690600401615985565b808686896040517fe0cff05f0000000000000000000000000000000000000000000000000000000081526004016108489493929190615a12565b612ba68134613a8f565b73ffffffffffffffffffffffffffffffffffffffff811660008181526020818152604091829020805492516dffffffffffffffffffffffffffff909316835292917f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c4910161222e565b6000806000845160208601878987f195945050505050565b60603d82811115612c355750815b604051602082018101604052818152816000602083013e9392505050565b6110c782613b8c565b6000805a855190915060009081612c7282613b94565b60a083015190915073ffffffffffffffffffffffffffffffffffffffff8116612c9e5782519350612ef1565b809350600088511115612ef157868202955060028a6002811115612cc457612cc4615a6a565b14612e5e5760608301516040517fa9a2340900000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83169163a9a2340991612d24908e908d908c90600401615a99565b600060405180830381600088803b158015612d3e57600080fd5b5087f193505050508015612d50575060015b612e5957612d5c615af9565b806308c379a003612dec5750612d70615b15565b80612d7b5750612dee565b8b81604051602001612d8d9190615bb2565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152908290527f220266b60000000000000000000000000000000000000000000000000000000082526108489291600401615bf7565b505b8a6040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526012908201527f4141353020706f73744f70207265766572740000000000000000000000000000606082015260800190565b612ef1565b60608301516040517fa9a2340900000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83169163a9a2340991612eb9908e908d908c90600401615a99565b600060405180830381600088803b158015612ed357600080fd5b5087f193505050508015612ee5575060015b612ef157612d5c615af9565b60005a86039050612f0181600455565b80880197508288029650868a604001511015612f81578b6040517f220266b600000000000000000000000000000000000000000000000000000000815260040161084891815260406020808301829052908201527f414135312070726566756e642062656c6f772061637475616c476173436f7374606082015260800190565b60408a0151879003612f938682613a8f565b6000808d6002811115612fa857612fa8615a6a565b149050612fb78c828b8d613bc4565b505050505050505095945050505050565b6002805403613033576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610848565b60028055565b60008060005a845190915061304e8682613c53565b61305786612039565b6020860152604081015160608201516080830151171760e087013517610100870135176effffffffffffffffffffffffffffff8111156130f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f7700000000000000006044820152606401610848565b6000806130ff84613d73565b905061310d8a8a8a84613dcd565b8551602087015191995091935061312491906140e3565b61319357896040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052601a908201527f4141323520696e76616c6964206163636f756e74206e6f6e6365000000000000606082015260800190565b61319c43600052565b60a084015160609073ffffffffffffffffffffffffffffffffffffffff16156131d1576131cc8b8b8b858761413e565b975090505b60005a87039050808b60a00135101561324f578b6040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052601e908201527f41413430206f76657220766572696669636174696f6e4761734c696d69740000606082015260800190565b60408a018390528160608b015260c08b01355a8803018a608001818152505050505050505050935093915050565b60008061328985614401565b915091508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161461332b57856040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526014908201527f41413234207369676e6174757265206572726f72000000000000000000000000606082015260800190565b801561339c57856040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526017908201527f414132322065787069726564206f72206e6f7420647565000000000000000000606082015260800190565b60006133a785614401565b9250905073ffffffffffffffffffffffffffffffffffffffff81161561343257866040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526014908201527f41413334207369676e6174757265206572726f72000000000000000000000000606082015260800190565b81156134c957866040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526021908201527f41413332207061796d61737465722065787069726564206f72206e6f7420647560608201527f6500000000000000000000000000000000000000000000000000000000000000608082015260a00190565b50505050505050565b6000805a905060006134e5846060015190565b905030631d7327566134fa606088018861524d565b87856040518563ffffffff1660e01b815260040161351b9493929190615c10565b6020604051808303816000875af1925050508015613574575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820190925261357191810190615cd1565b60015b61365357600060206000803e506000517f2152215300000000000000000000000000000000000000000000000000000000810161361657866040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052600f908201527f41413935206f7574206f66206761730000000000000000000000000000000000606082015260800190565b61361e614454565b600085608001515a61363090866153c9565b61363a9190615235565b905061364a886002888685612c5c565b94505050613656565b92505b50509392505050565b73ffffffffffffffffffffffffffffffffffffffff82166136dc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f4141393020696e76616c69642062656e656669636961727900000000000000006044820152606401610848565b60008273ffffffffffffffffffffffffffffffffffffffff168260405160006040518083038185875af1925050503d8060008114613736576040519150601f19603f3d011682016040523d82523d6000602084013e61373b565b606091505b50509050806110c7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e6566696369617279006044820152606401610848565b6040517f05bd783f00000000000000000000000000000000000000000000000000000000815230906305bd783f906137e2908490600401615cea565b60006040518083038186803b1580156137fa57600080fd5b505afa92505050801561380b575060015b6119de57613817615af9565b806308c379a003613874575061382b615b15565b806138365750613876565b8051156107cc576000816040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848929190615bf7565b505b3d6000803e3d6000fd5b60408051606081018252600080825260208201819052918101829052906138a68461446c565b905060006138b38461446c565b825190915073ffffffffffffffffffffffffffffffffffffffff81166138d7575080515b602080840151604080860151928501519085015191929165ffffffffffff8083169085161015613905578193505b8065ffffffffffff168365ffffffffffff161115613921578092505b50506040805160608101825273ffffffffffffffffffffffffffffffffffffffff909416845265ffffffffffff92831660208501529116908201529250505092915050565b6040517f55f8117c00000000000000000000000000000000000000000000000000000000815230906355f8117c906137e2908490600401615cea565b600080828060200190518101906139b99190615d4c565b8051909150600090815b81811015613a6b5760008482815181106139df576139df615324565b602002602001015190508773ffffffffffffffffffffffffffffffffffffffff16816020015173ffffffffffffffffffffffffffffffffffffffff1614613a32576040810151613a2f9085615235565b93505b60808101515115613a5857613a4b8882608001516139a2565b613a559085615235565b93505b5080613a6381615353565b9150506139c3565b509095945050505050565b6000613a81826144ea565b805190602001209050919050565b73ffffffffffffffffffffffffffffffffffffffff821660009081526020819052604081208054909190613ad49084906dffffffffffffffffffffffffffff16615235565b90506dffffffffffffffffffffffffffff811115613b4e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f6465706f736974206f766572666c6f77000000000000000000000000000000006044820152606401610848565b81547fffffffffffffffffffffffffffffffffffff0000000000000000000000000000166dffffffffffffffffffffffffffff919091161790555050565b805160208201fd5b60c081015160e082015160009190808203613bb0575092915050565b613bbc824883016145ca565b949350505050565b6003819055835160a081015181516020808801519084015160405173ffffffffffffffffffffffffffffffffffffffff9485169493909316927f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f91613c44918a908a908a9093845291151560208401526040830152606082015260800190565b60405180910390a45050505050565b613c606020830183614f04565b73ffffffffffffffffffffffffffffffffffffffff16815260208083013590820152608080830135604083015260a0830135606083015260c0808401359183019190915260e0808401359183019190915261010083013590820152366000613ccc61012085018561524d565b90925090508015613d66576014811015613d42576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e64446174610000006044820152606401610848565b613d506014600083856152b2565b613d59916152dc565b60601c60a08401526112c8565b600060a084015250505050565b60a0810151600090819073ffffffffffffffffffffffffffffffffffffffff16613d9e576001613da1565b60035b60ff16905060008360800151828560600151028560400151010190508360c00151810292505050919050565b60008060005a8551805191925090613df28988613ded60408c018c61524d565b6145e0565b60a0820151613e0043600052565b600073ffffffffffffffffffffffffffffffffffffffff8216613e695773ffffffffffffffffffffffffffffffffffffffff83166000908152602081905260409020546dffffffffffffffffffffffffffff16888111613e6257808903613e65565b60005b9150505b606084015160208a01516040517f3a871cdd00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff861692633a871cdd929091613ec9918f918790600401615eb2565b60206040518083038160008887f193505050508015613f23575060408051601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0168201909252613f2091810190615cd1565b60015b613fcd57613f2f615af9565b806308c379a003613f605750613f43615b15565b80613f4e5750613f62565b8b81604051602001612d8d9190615ed7565b505b8a6040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526016908201527f4141323320726576657274656420286f72204f4f472900000000000000000000606082015260800190565b955073ffffffffffffffffffffffffffffffffffffffff82166140d05773ffffffffffffffffffffffffffffffffffffffff8316600090815260208190526040902080546dffffffffffffffffffffffffffff16808a1115614094578c6040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526017908201527f41413231206469646e2774207061792070726566756e64000000000000000000606082015260800190565b81547fffffffffffffffffffffffffffffffffffff000000000000000000000000000016908a90036dffffffffffffffffffffffffffff161790555b5a85039650505050505094509492505050565b73ffffffffffffffffffffffffffffffffffffffff8216600090815260016020908152604080832084821c808552925282208054849167ffffffffffffffff831691908561413083615353565b909155501495945050505050565b825160608181015190916000918481116141b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f4141343120746f6f206c6974746c6520766572696669636174696f6e476173006044820152606401610848565b60a082015173ffffffffffffffffffffffffffffffffffffffff8116600090815260208190526040902080548784039291906dffffffffffffffffffffffffffff1689811015614269578c6040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052601e908201527f41413331207061796d6173746572206465706f73697420746f6f206c6f770000606082015260800190565b8981038260000160006101000a8154816dffffffffffffffffffffffffffff02191690836dffffffffffffffffffffffffffff1602179055508273ffffffffffffffffffffffffffffffffffffffff1663f465c77e858e8e602001518e6040518563ffffffff1660e01b81526004016142e493929190615eb2565b60006040518083038160008887f19350505050801561434357506040513d6000823e601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01682016040526143409190810190615f1c565b60015b6143ed5761434f615af9565b806308c379a0036143805750614363615b15565b8061436e5750614382565b8d81604051602001612d8d9190615f63565b505b8c6040517f220266b60000000000000000000000000000000000000000000000000000000081526004016108489181526040602082018190526016908201527f4141333320726576657274656420286f72204f4f472900000000000000000000606082015260800190565b909e909d509b505050505050505050505050565b6000808260000361441757506000928392509050565b60006144228461446c565b9050806040015165ffffffffffff164211806144495750806020015165ffffffffffff1642105b905194909350915050565b6000614461610400612c27565b90506119de81613b8c565b60408051606081018252600080825260208201819052918101919091528160a081901c65ffffffffffff81166000036144a8575065ffffffffffff5b6040805160608101825273ffffffffffffffffffffffffffffffffffffffff909316835260d09490941c602083015265ffffffffffff16928101929092525090565b606081356020830135600061450a614505604087018761524d565b614964565b9050600061451e614505606088018861524d565b9050608086013560a087013560c088013560e08901356101008a0135600061454d6145056101208e018e61524d565b6040805173ffffffffffffffffffffffffffffffffffffffff9c909c1660208d01528b81019a909a5260608b019890985250608089019590955260a088019390935260c087019190915260e08601526101008501526101208401526101408084019190915281518084039091018152610160909201905292915050565b60008183106145d9578161189f565b5090919050565b80156112c85782515173ffffffffffffffffffffffffffffffffffffffff81163b1561467157846040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052601f908201527f414131302073656e64657220616c726561647920636f6e737472756374656400606082015260800190565b8351606001516040517f570e1a36000000000000000000000000000000000000000000000000000000008152600091737fc98430eaedbb6070b35b39d7987250490883489163570e1a3691906146cd90889088906004016157d7565b60206040518083038160008887f11580156146ec573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061471191906157eb565b905073ffffffffffffffffffffffffffffffffffffffff811661479957856040517f220266b6000000000000000000000000000000000000000000000000000000008152600401610848918152604060208201819052601b908201527f4141313320696e6974436f6465206661696c6564206f72204f4f470000000000606082015260800190565b8173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161461483657856040517f220266b600000000000000000000000000000000000000000000000000000000815260040161084891815260406020808301829052908201527f4141313420696e6974436f6465206d7573742072657475726e2073656e646572606082015260800190565b8073ffffffffffffffffffffffffffffffffffffffff163b6000036148bf57856040517f220266b600000000000000000000000000000000000000000000000000000000815260040161084891815260406020808301829052908201527f4141313520696e6974436f6465206d757374206372656174652073656e646572606082015260800190565b60006148ce60148286886152b2565b6148d7916152dc565b60601c90508273ffffffffffffffffffffffffffffffffffffffff1686602001517fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d83896000015160a0015160405161495392919073ffffffffffffffffffffffffffffffffffffffff92831681529116602082015260400190565b60405180910390a350505050505050565b6000604051828085833790209392505050565b6040518060a001604052806149f6604051806101000160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081526020016000815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081525090565b8152602001600080191681526020016000815260200160008152602001600081525090565b600060208284031215614a2d57600080fd5b813563ffffffff8116811461189f57600080fd5b60006101608284031215614a5457600080fd5b50919050565b600060208284031215614a6c57600080fd5b813567ffffffffffffffff811115614a8357600080fd5b613bbc84828501614a41565b803577ffffffffffffffffffffffffffffffffffffffffffffffff81168114614ab757600080fd5b919050565b600060208284031215614ace57600080fd5b61189f82614a8f565b73ffffffffffffffffffffffffffffffffffffffff811681146119de57600080fd5b8035614ab781614ad7565b60008060408385031215614b1757600080fd5b8235614b2281614ad7565b9150614b3060208401614a8f565b90509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60a0810181811067ffffffffffffffff82111715614b8857614b88614b39565b60405250565b610100810181811067ffffffffffffffff82111715614b8857614b88614b39565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f830116810181811067ffffffffffffffff82111715614bf357614bf3614b39565b6040525050565b600067ffffffffffffffff821115614c1457614c14614b39565b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b600082601f830112614c5157600080fd5b8135614c5c81614bfa565b604051614c698282614baf565b828152856020848701011115614c7e57600080fd5b82602086016020830137600092810160200192909252509392505050565b60008083601f840112614cae57600080fd5b50813567ffffffffffffffff811115614cc657600080fd5b602083019150836020828501011115614cde57600080fd5b9250929050565b6000806000808486036101c0811215614cfd57600080fd5b853567ffffffffffffffff80821115614d1557600080fd5b614d2189838a01614c40565b96507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe083019250610180915081831215614d5a57600080fd5b604051614d6681614b68565b61010080851215614d7657600080fd5b6040519450614d8485614b8e565b614d9060208b01614af9565b855260408a0135602086015260608a0135604086015260808a0135606086015260a08a01356080860152614dc660c08b01614af9565b60a086015260e08a81013560c0870152908a0135908501529283526101208801356020840152610140880135604084015261016088013560608401528188013560808401529194506101a08701359180831115614e2257600080fd5b5050614e3087828801614c9c565b95989497509550505050565b60008083601f840112614e4e57600080fd5b50813567ffffffffffffffff811115614e6657600080fd5b6020830191508360208260051b8501011115614cde57600080fd5b600080600060408486031215614e9657600080fd5b833567ffffffffffffffff811115614ead57600080fd5b614eb986828701614e3c565b9094509250506020840135614ecd81614ad7565b809150509250925092565b60008060408385031215614eeb57600080fd5b8235614ef681614ad7565b946020939093013593505050565b600060208284031215614f1657600080fd5b813561189f81614ad7565b600080600060408486031215614f3657600080fd5b833567ffffffffffffffff811115614f4d57600080fd5b614f5986828701614c9c565b909790965060209590950135949350505050565b600067ffffffffffffffff821115614f8757614f87614b39565b5060051b60200190565b60008060408385031215614fa457600080fd5b8235614faf81614ad7565b915060208381013567ffffffffffffffff811115614fcc57600080fd5b8401601f81018613614fdd57600080fd5b8035614fe881614f6d565b604051614ff58282614baf565b82815260059290921b830184019184810191508883111561501557600080fd5b928401925b828410156150335783358252928401929084019061501a565b80955050505050509250929050565b60008060008060006060868803121561505a57600080fd5b853567ffffffffffffffff8082111561507257600080fd5b61507e89838a01614c9c565b90975095506020880135915061509382614ad7565b909350604087013590808211156150a957600080fd5b506150b688828901614c9c565b969995985093965092949392505050565b6000806000604084860312156150dc57600080fd5b83356150e781614ad7565b9250602084013567ffffffffffffffff81111561510357600080fd5b61510f86828701614c9c565b9497909650939450505050565b6000806020838503121561512f57600080fd5b823567ffffffffffffffff81111561514657600080fd5b61515285828601614c9c565b90969095509350505050565b6000806000806060858703121561517457600080fd5b843567ffffffffffffffff8082111561518c57600080fd5b61519888838901614a41565b9550602087013591506151aa82614ad7565b909350604086013590808211156151c057600080fd5b50614e3087828801614c9c565b600080604083850312156151e057600080fd5b82356151eb81614ad7565b915060208301356151fb81614ad7565b809150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000821982111561524857615248615206565b500190565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe184360301811261528257600080fd5b83018035915067ffffffffffffffff82111561529d57600080fd5b602001915036819003821315614cde57600080fd5b600080858511156152c257600080fd5b838611156152cf57600080fd5b5050820193919092039150565b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000813581811691601485101561531c5780818660140360031b1b83161692505b505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361538457615384615206565b5060010190565b600082357ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea18336030181126153bf57600080fd5b9190910192915050565b6000828210156153db576153db615206565b500390565b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa18336030181126153bf57600080fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe184360301811261544957600080fd5b83018035915067ffffffffffffffff82111561546457600080fd5b6020019150600581901b3603821315614cde57600080fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18436030181126154b157600080fd5b830160208101925035905067ffffffffffffffff8111156154d157600080fd5b803603821315614cde57600080fd5b8183528181602085013750600060208284010152600060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116840101905092915050565b60006101606155558461553b85614af9565b73ffffffffffffffffffffffffffffffffffffffff169052565b6020830135602085015261556c604084018461547c565b82604087015261557f83870182846154e0565b92505050615590606084018461547c565b85830360608701526155a38382846154e0565b925050506080830135608085015260a083013560a085015260c083013560c085015260e083013560e08501526101008084013581860152506101206155ea8185018561547c565b868403838801526155fc8482846154e0565b93505050506101406156108185018561547c565b868403838801526156228482846154e0565b979650505050505050565b6040808252810184905260006060600586901b830181019083018783805b898110156156cd577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa087860301845282357ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea18c36030181126156ab578283fd5b6156b7868d8301615529565b955050602093840193929092019160010161564b565b5050505082810360208401526156228185876154e0565b600080600080600060a086880312156156fc57600080fd5b85519450602086015161570e81614ad7565b604087015190945061571f81614ad7565b6060870151608090970151959894975095949392505050565b7fffffffff00000000000000000000000000000000000000000000000000000000813581811691600485101561531c5760049490940360031b84901b1690921692915050565b60008060006060848603121561579357600080fd5b833561579e81614ad7565b925060208401359150604084013567ffffffffffffffff8111156157c157600080fd5b6157cd86828701614c40565b9150509250925092565b602081526000613bbc6020830184866154e0565b6000602082840312156157fd57600080fd5b815161189f81614ad7565b600065ffffffffffff80831681851680830382111561582957615829615206565b01949350505050565b8183823760009101908152919050565b60005b8381101561585d578181015183820152602001615845565b838111156112c85750506000910152565b60008151808452615886816020860160208601615842565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b868152856020820152600065ffffffffffff8087166040840152808616606084015250831515608083015260c060a08301526158f760c083018461586e565b98975050505050505050565b80518015158114614ab757600080fd5b60006020828403121561592557600080fd5b61189f82615903565b80518252602081015160208301526040810151151560408301526000606082015165ffffffffffff8082166060860152806080850151166080860152505060a082015160c060a0850152613bbc60c085018261586e565b60006101408083526159998184018961592e565b9150506159b3602083018780518252602090810151910152565b845160608301526020948501516080830152835160a08301529284015160c0820152815173ffffffffffffffffffffffffffffffffffffffff1660e0820152908301518051610100830152909201516101209092019190915292915050565b60e081526000615a2560e083018761592e565b9050615a3e602083018680518252602090810151910152565b8351606083015260208401516080830152825160a0830152602083015160c08301525b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600060038510615ad2577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b84825260606020830152615ae9606083018561586e565b9050826040830152949350505050565b600060033d1115615b125760046000803e5060005160e01c5b90565b600060443d1015615b235790565b6040517ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc803d016004833e81513d67ffffffffffffffff8160248401118184111715615b7157505050505090565b8285019150815181811115615b895750505050505090565b843d8701016020828501011115615ba35750505050505090565b613a6b60208286010187614baf565b7f4141353020706f73744f702072657665727465643a2000000000000000000000815260008251615bea816016850160208701615842565b9190910160160192915050565b828152604060208201526000613bbc604083018461586e565b60006101c0808352615c2581840187896154e0565b9050845173ffffffffffffffffffffffffffffffffffffffff808251166020860152602082015160408601526040820151606086015260608201516080860152608082015160a08601528060a08301511660c08601525060c081015160e085015260e08101516101008501525060208501516101208401526040850151610140840152606085015161016084015260808501516101808401528281036101a0840152615622818561586e565b600060208284031215615ce357600080fd5b5051919050565b60208152600061189f6020830184615529565b600082601f830112615d0e57600080fd5b8151615d1981614bfa565b604051615d268282614baf565b828152856020848701011115615d3b57600080fd5b615a61836020830160208801615842565b60006020808385031215615d5f57600080fd5b825167ffffffffffffffff80821115615d7757600080fd5b818501915085601f830112615d8b57600080fd5b8151615d9681614f6d565b60408051615da48382614baf565b83815260059390931b8501860192868101925089841115615dc457600080fd5b8686015b84811015615ea457805186811115615ddf57600080fd5b870160a0818d037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0011215615e1357600080fd5b8351615e1e81614b68565b615e298a8301615903565b815284820151615e3881614ad7565b818b015260608201518582015260808083015189811115615e595760008081fd5b615e678f8d83870101615cfd565b60608401525060a083015189811115615e805760008081fd5b615e8e8f8d83870101615cfd565b9183019190915250855250928701928701615dc8565b509998505050505050505050565b606081526000615ec56060830186615529565b60208301949094525060400152919050565b7f414132332072657665727465643a200000000000000000000000000000000000815260008251615f0f81600f850160208701615842565b91909101600f0192915050565b60008060408385031215615f2f57600080fd5b825167ffffffffffffffff811115615f4657600080fd5b615f5285828601615cfd565b925050602083015190509250929050565b7f414133332072657665727465643a200000000000000000000000000000000000815260008251615f0f81600f85016020870161584256fea2646970667358221220000da080c856cf7bc447dfdee1a58cebf6180b2a5bd71e47e174de3a88872bbe64736f6c634300080f0033"
        expect:
        println Numeric.toHexString(CodecUtil.brotliCompress(Numeric.hexStringToByteArray(code), 11, 24))
    }

    def "decodeFunctionOrError"() {
        given:
        def sig = "handleOps((address,uint256,bytes,bytes,uint256,uint256,uint256,uint256,uint256,bytes,bytes)[], address)";
        def input = "0x1fad948c00000000000000000000000000000000000000000000000000000000000000400000000000000000000000007da47793840ea85b5954edd71b5b51e0959be32c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000b6486149945ba60b4aff4ddeedd73914695b9656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000280000000000000000000000000000000000000000000000000000000000000010600000000000000000000000000000000000000000000000000000000000726b1000000000000000000000000000000000000000000000000000000000000cbea000000000000000000000000000000000000000000000000000000062b85e900000000000000000000000000000000000000000000000000000000062b85e90000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000f822ff1dc5998258faa1ea45a776b57484f8ab80a2296601cd000000000000000000000000ac78f1101883a68babcfbaccccaadc7d55e657ba000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000004d20000000000000000000000000000000000000000000000000000000000000060000000000000000000000000a31325ced7e5d13a99ec8a59fdaeb4fc385d049a00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075f44f59e49ddc8c6f7a7da1e1ec2a5b9d50536e5b0000000000000000656757960000000000000000000000000000000000000000889ffcdff6f6b52d38f3332d87dff86ebc758b6c41e91fd8c11c54fb53085fd44243cb4d56a44f5732e52d77999676305697574447f92a3ddde7b88c73f973961b000000000000000000000000000000000000000000000000000000000000000000000000000000000000620000000000000000000000000000000000000000000000000000000000656751bae2cc3fc0827a755a03461326100f65ac1863669086d90b0514c471c012719a3166eac9944dd997486a1b1792dd1f402c343114f086978b2a141d8ca53ce72c691c000000000000000000000000000000000000000000000000000000000000"
        when:
        def tuple = CodecUtil.decodeFunctionOrError(input, sig)
        then:
        PrintUtil.print(tuple)
    }

    def "decodeStruct"() {
        given:
        def struct = "((bool,address,uint256,bytes,bytes)[])";
        def input = "0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffff132b6b3010bfa7e9e16631bb3942bdd94461000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000044a9059cbb00000000000000000000000029615f19d178f254a56f3c15fddc31985e7d0f210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        when:
        def tuple = CodecUtil.decodeStruct(input, struct)
        then:
        PrintUtil.print(tuple)
    }

    def "buildMethodId"() {
        given:
        def name = "UopReverted(uint256,bytes)";
        when:
        def sig = CodecUtil.buildMethodId(name)
        then:
        println sig
    }

    def "abiEncode"() {
        given:
        def address = "0x424bf2f66cc418dace706efae9dd0435a5ee651d"
        def index = BigInteger.ZERO
        when:
        def slot = CodecUtil.getAddressMapSlot(address, index);
        then:
        println slot
    }

    def "encodeCallData"() {
        given:
        def sig = "transfer(address,uint256)"
        when:
        def data = CodecUtil.encodeCallData(sig, "0x424bf2f66cc418dace706efae9dd0435a5ee651d", "0xfb4f3f12258976395b34304e2bfd76d15e0af44a", BigInteger.ONE);
        then:
        println data

    }

    def "HexToString"() {
        given:
        def sig = "0x646174613a6170706c69636174696f6e2f766e642e66616365742e74782b6a736f6e3b72756c653d65736970362c7b226f70223a2263616c6c222c2264617461223a7b22746f223a22307835356162303339306138396665643839393265336166666266363164313032343930373335653234222c2266756e6374696f6e223a22617070726f7665222c2261726773223a5b22307866323965366533313961633463653863313030636663303262313730326562336432373530323965222c223537383936303434363138363538303937373131373835343932353034333433393533393236363334393932333332383230323832303139373238373932303033393536353634383139393638225d7d7d"
        when:
        def data = new String(Numeric.hexStringToByteArray(sig));
        then:
        println data

    }

    def "abiEncodePacked"() {
        given:
        def init = "0x4b6a1419000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000060000000000000000000000000dec2047da41117d4080108b55cf6ffcf18edc2a900000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000001417638fc87868e235a0608e5b2e955cea9ec354180000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        def salt = BigInteger.ZERO
        when:
        def data = Numeric.toHexString(CodecUtil.keccak256(CodecUtil.abiEncodePacked(new DynamicBytes(Numeric.hexStringToByteArray(init)), new Uint256(salt))))
        then:
        println data
    }


    def "hexToStr"() {
        expect:
        println CodecUtil.hexToStr("5c35a3de6f45bf9c013b6b812b9aced2a9859eb157d09236cbed5674ec58b138")
    }
}
